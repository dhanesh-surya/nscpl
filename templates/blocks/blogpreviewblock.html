{% load static %}
<section class="py-5 {{ block.style_options.get_css_classes }}" style="{{ block.style_options.get_inline_styles }}" {% if block.style_options.animate_on_scroll %}data-aos="fade-up"{% endif %}>
  <div class="{{ block.style_options.get_container_class }}">
    {% if block.heading %}
      <div class="row justify-content-center mb-5">
        <div class="col-lg-8 col-md-10 text-center">
          <h2 class="display-4 fw-bold text-gradient" data-aos="zoom-in">{{ block.heading }}</h2>
        </div>
      </div>
    {% endif %}

    <div class="row g-4">
      {% with posts=news_list|default:None %}
        {% if posts %}
          {% for post in posts %}
            <div class="col-xl-4 col-lg-6 col-md-6" data-aos="slide-up" data-aos-delay="{{ forloop.counter0 }}">
              <article class="card h-100 border-0 shadow-sm hover-shadow-lg transition-all">
                {% if post.featured_image %}
                  <div class="position-relative overflow-hidden">
                    <img src="{{ post.featured_image.url }}" class="card-img-top" style="height: 240px; object-fit: cover;" alt="{{ post.title }}">
                    <div class="card-img-overlay d-flex align-items-center justify-content-center bg-dark bg-opacity-50 opacity-0 hover-opacity-100 transition-opacity">
                      <a href="{% url 'news:news_detail' post.slug %}" class="btn btn-primary btn-lg">
                        <i class="fas fa-eye me-2"></i>Read More
                      </a>
                    </div>
                  </div>
                {% endif %}

                <div class="card-body d-flex flex-column">
                  <h3 class="card-title h5 fw-bold mb-3">
                    <a href="{% url 'news:news_detail' post.slug %}" class="text-decoration-none stretched-link">
                      {{ post.title }}
                    </a>
                  </h3>

                  {% if post.excerpt %}
                    <p class="card-text text-muted flex-grow-1">{{ post.excerpt|truncatewords:20 }}</p>
                  {% endif %}

                  <div class="d-flex justify-content-between align-items-center mt-auto pt-3 border-top">
                    <small class="text-muted">
                      <i class="fas fa-calendar-alt me-1"></i>{{ post.created_at|date:"M j, Y" }}
                    </small>
                    <span class="badge bg-primary">
                      <i class="fas fa-arrow-right me-1"></i>Read More
                    </span>
                  </div>
                </div>
              </article>
            </div>
          {% endfor %}
        {% else %}
          <div class="col-12 text-center py-5">
            <div class="empty-state">
              <i class="fas fa-newspaper fa-3x text-muted mb-3"></i>
              <h3 class="h4 text-muted">No Blog Posts Available</h3>
              <p class="text-muted">Check back later for the latest news and updates.</p>
            </div>
          </div>
        {% endif %}
      {% endwith %}
    </div>
  </div>
</section>
